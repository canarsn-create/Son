<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SohbetEdecekDeliBul.com - Premium Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800;900&display=swap');
        
        * {
            font-family: 'Poppins', sans-serif;
        }

        body {
            overflow-x: hidden;
        }

        /* Kart animasyonları */
        .card-swipe {
            transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 0.5s ease;
            cursor: grab;
            position: relative;
        }
        
        .card-swipe:active {
            cursor: grabbing;
            transform: scale(0.97);
        }

        .card-swipe.swipe-right {
            transform: translateX(200%) rotate(40deg) scale(0.8);
            opacity: 0;
        }

        .card-swipe.swipe-left {
            transform: translateX(-200%) rotate(-40deg) scale(0.8);
            opacity: 0;
        }

        .card-swipe.swipe-up {
            transform: translateY(-200%) scale(1.2) rotate(5deg);
            opacity: 0;
        }

        .card-swipe:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 30px 60px rgba(0,0,0,0.3);
        }

        /* Gerçekçi fotoğraf efekti */
        .profile-photo {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            position: relative;
            overflow: hidden;
        }

        .profile-photo::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                45deg,
                transparent,
                rgba(255,255,255,0.1),
                transparent
            );
            transform: rotate(45deg);
            animation: shine 3s infinite;
        }

        @keyframes shine {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        /* Sohbet balonu animasyonları */
        .message-bubble {
            animation: messageSlide 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            transform-origin: bottom;
        }

        @keyframes messageSlide {
            from {
                opacity: 0;
                transform: translateY(30px) scale(0.8);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        /* Gelişmiş yazıyor animasyonu */
        .typing-indicator {
            display: inline-flex;
            gap: 6px;
            padding: 16px 20px;
            background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
            border-radius: 25px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .typing-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: linear-gradient(135deg, #a855f7 0%, #ec4899 100%);
            animation: typingBounce 1.4s infinite ease-in-out;
            box-shadow: 0 2px 4px rgba(168, 85, 247, 0.4);
        }

        .typing-dot:nth-child(1) {
            animation-delay: 0s;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typingBounce {
            0%, 60%, 100% {
                transform: translateY(0) scale(1);
            }
            30% {
                transform: translateY(-15px) scale(1.2);
            }
        }

        /* Mesaj kuyrukları - Gelişmiş */
        .message-tail-right {
            position: relative;
        }

        .message-tail-right::after {
            content: '';
            position: absolute;
            right: -10px;
            bottom: 10px;
            width: 0;
            height: 0;
            border-left: 12px solid;
            border-left-color: inherit;
            border-top: 10px solid transparent;
            border-bottom: 10px solid transparent;
            filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.1));
        }

        .message-tail-left {
            position: relative;
        }

        .message-tail-left::after {
            content: '';
            position: absolute;
            left: -10px;
            bottom: 10px;
            width: 0;
            height: 0;
            border-right: 12px solid;
            border-right-color: inherit;
            border-top: 10px solid transparent;
            border-bottom: 10px solid transparent;
            filter: drop-shadow(-2px 2px 3px rgba(0,0,0,0.1));
        }

        /* Pulse animasyonu - Gelişmiş */
        .pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        @keyframes pulse {
            0%, 100% {
                opacity: 1;
                transform: scale(1);
            }
            50% {
                opacity: .8;
                transform: scale(1.05);
            }
        }

        /* Glow efekti - Gelişmiş */
        .glow {
            box-shadow: 0 0 30px rgba(168, 85, 247, 0.6);
            animation: glow 2.5s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from {
                box-shadow: 0 0 20px rgba(168, 85, 247, 0.6), 0 0 40px rgba(236, 72, 153, 0.4);
            }
            to {
                box-shadow: 0 0 40px rgba(168, 85, 247, 0.9), 0 0 80px rgba(236, 72, 153, 0.6);
            }
        }

        /* Shake animasyonu */
        .shake {
            animation: shake 0.6s cubic-bezier(.36,.07,.19,.97) both;
        }

        @keyframes shake {
            10%, 90% {
                transform: translate3d(-2px, 0, 0);
            }
            20%, 80% {
                transform: translate3d(4px, 0, 0);
            }
            30%, 50%, 70% {
                transform: translate3d(-8px, 0, 0);
            }
            40%, 60% {
                transform: translate3d(8px, 0, 0);
            }
        }

        /* Floating animasyonu */
        .float {
            animation: float 4s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0px) rotate(0deg);
            }
            33% {
                transform: translateY(-20px) rotate(3deg);
            }
            66% {
                transform: translateY(-10px) rotate(-3deg);
            }
        }

        /* Gradient animasyonu */
        .gradient-bg {
            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab, #f093fb, #f5576c);
            background-size: 400% 400%;
            animation: gradientShift 20s ease infinite;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Chat scroll */
        .chat-scroll {
            scroll-behavior: smooth;
        }

        .chat-scroll::-webkit-scrollbar {
            width: 10px;
        }

        .chat-scroll::-webkit-scrollbar-track {
            background: rgba(0,0,0,0.1);
            border-radius: 10px;
        }

        .chat-scroll::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, #a855f7 0%, #ec4899 100%);
            border-radius: 10px;
            border: 2px solid transparent;
        }

        .chat-scroll::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, #9333ea 0%, #db2777 100%);
        }

        /* Buton hover efektleri */
        .btn-hover {
            position: relative;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .btn-hover::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.4);
            transform: translate(-50%, -50%);
            transition: width 0.8s, height 0.8s;
        }

        .btn-hover:hover::before {
            width: 400px;
            height: 400px;
        }

        .btn-hover:active {
            transform: scale(0.92);
        }

        /* Emoji hover büyütme */
        .emoji-hover {
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            display: inline-block;
        }

        .emoji-hover:hover {
            transform: scale(1.4) rotate(10deg);
        }

        /* Tinder card shadow */
        .tinder-card {
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.2);
            transition: all 0.4s ease;
        }

        .tinder-card:hover {
            box-shadow: 0 20px 80px rgba(0, 0, 0, 0.3);
        }

        /* Yardım balonu */
        .help-bubble {
            position: fixed;
            bottom: 100px;
            right: 30px;
            background: white;
            border-radius: 30px;
            padding: 20px 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            animation: bubbleBounce 2s ease-in-out infinite;
            cursor: pointer;
            z-index: 1000;
        }

        .help-bubble::after {
            content: '';
            position: absolute;
            bottom: -10px;
            right: 40px;
            width: 0;
            height: 0;
            border-left: 15px solid transparent;
            border-right: 15px solid transparent;
            border-top: 15px solid white;
        }

        @keyframes bubbleBounce {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-10px);
            }
        }

        /* Profil badge */
        .verified-badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
            box-shadow: 0 2px 8px rgba(59, 130, 246, 0.4);
        }

        /* Swipe overlay efekti */
        .swipe-overlay-like {
            position: absolute;
            top: 50px;
            right: 50px;
            font-size: 80px;
            font-weight: 900;
            color: #22c55e;
            transform: rotate(-20deg);
            opacity: 0;
            transition: opacity 0.3s;
            text-shadow: 0 0 20px rgba(34, 197, 94, 0.8);
            pointer-events: none;
            z-index: 10;
        }

        .swipe-overlay-nope {
            position: absolute;
            top: 50px;
            left: 50px;
            font-size: 80px;
            font-weight: 900;
            color: #ef4444;
            transform: rotate(20deg);
            opacity: 0;
            transition: opacity 0.3s;
            text-shadow: 0 0 20px rgba(239, 68, 68, 0.8);
            pointer-events: none;
            z-index: 10;
        }

        /* Premium badge */
        .premium-badge {
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            color: white;
            padding: 6px 16px;
            border-radius: 25px;
            font-size: 14px;
            font-weight: 800;
            box-shadow: 0 4px 12px rgba(251, 191, 36, 0.4);
            animation: premiumShine 3s infinite;
        }

        @keyframes premiumShine {
            0%, 100% {
                box-shadow: 0 4px 12px rgba(251, 191, 36, 0.4);
            }
            50% {
                box-shadow: 0 4px 20px rgba(251, 191, 36, 0.8);
            }
        }

        /* Online indicator */
        .online-indicator {
            width: 16px;
            height: 16px;
            background: #22c55e;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 0 10px rgba(34, 197, 94, 0.6);
            animation: pulse 2s infinite;
        }

        /* Mesaj gönderme animasyonu */
        .send-animation {
            animation: sendPulse 0.3s ease;
        }

        @keyframes sendPulse {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
            }
            100% {
                transform: scale(1);
            }
        }

        /* Reactions */
        .reaction-btn {
            transition: all 0.2s ease;
        }

        .reaction-btn:hover {
            transform: scale(1.3) rotate(15deg);
        }

        .reaction-btn:active {
            transform: scale(1.5) rotate(25deg);
        }
    </style>
</head>
<body>
    <div id="app"></div>

    <!-- Yardım Balonu -->
    <div id="helpBubble" class="help-bubble" style="display: none;">
        <div class="flex items-center gap-3">
            <span class="text-4xl emoji-hover">💬</span>
            <div>
                <p class="font-bold text-gray-800 text-sm">Yardıma mı ihtiyacın var?</p>
                <p class="text-gray-600 text-xs">Tıkla ve destek ekibiyle konuş!</p>
            </div>
        </div>
    </div>

    <script>
        // Gerçekçi profil verileri
        const gercekIsimler = [
            'Ahmet', 'Mehmet', 'Ayşe', 'Fatma', 'Ali', 'Veli', 'Zeynep', 'Elif',
            'Can', 'Cem', 'Deniz', 'Ece', 'Furkan', 'Gizem', 'Hakan', 'İrem',
            'Kemal', 'Lale', 'Murat', 'Naz', 'Oğuz', 'Pelin', 'Rıza', 'Selin',
            'Taner', 'Umut', 'Volkan', 'Yasemin', 'Zafer', 'Berk', 'Ceren', 'Defne'
        ];

        const deliTipleri = [
            '🌹 Romantik Ruh', '🧠 Derin Düşünen', '😂 Komedi Kralı', '😌 Huzur Arayan',
            '⚡ Enerji Dolu', '🌙 Gece Kuşu', '💃 Dans Tutkunu', '📝 Şair Kalpli',
            '🔮 Gizemli Yaratık', '🗺️ Dünya Gezgini', '💻 Teknoloji Aşığı', '🎵 Müzik Delisi',
            '🎨 Sanat Ruhlu', '🌌 Yıldız Avcısı', '🍕 Gurme Arayışta', '🎬 Sinema Tutkunn',
            '📚 Kitap Kurdu', '🏋️ Fitness Aşkı', '🧘 Zen Master', '🎮 Oyun Dünyası'
        ];

        const avatarEmojiler = [
            '😊', '😎', '🥰', '😏', '🤗', '😌', '🥳', '😇',
            '🤓', '😜', '🤩', '😋', '😺', '🦊', '🐨', '🐼',
            '🦄', '🌟', '✨', '💫', '🌈', '🎨', '🎭', '🎪'
        ];

        const bioOrnekleri = [
            'Hayat kısa, kahve uzun olsun ☕',
            'Günbatımı fotoğrafçısı 🌅',
            'Kedilerle telepati kuruyorum 🐱',
            'Pizza üzerine felsefe yapabiliriz 🍕',
            'Dans edenler deli sanılır... bana katıl 💃',
            'Gece 3\'te en derin konuşmalar 🌙',
            'Müzik benim dilim 🎵',
            'Spontane maceralara hazırım 🗺️',
            'Kitap okurken kayboluyorum 📚',
            'Yemek yapmak benim terapim 🍳',
            'Doğa beni çağırıyor 🏞️',
            'Film önerileri karşılığında sohbet 🎬',
            'Yoga ve iç huzur arayışında 🧘',
            'Kahkaha atmayı unutma 😂',
            'Seyahat etmek hayatımın anlamı ✈️',
            'Sahil yürüyüşleri ve derin sohbetler 🌊',
            'Sanat galeri turu yapacak arkadaş arıyorum 🎨',
            'Gece gökyüzüne bakmayı seviyorum ⭐',
            'Her gün yeni bir şey öğreniyorum 📖',
            'Hayat bir oyun, oynamaya geliyorum 🎮'
        ];

        const mesajSablonlari = [
            'Selam! Nasılsın? 😊',
            'Hey! Profilin çok ilginç geldi 👋',
            'Merhaba, ben de senin gibi deliyim 🤪',
            'Vay be, sonunda birileri! 🎉',
            'Kahve içmeyi sever misin? ☕',
            'Bugün ne yapıyorsun? 🌟',
            'Müzik zevkin nasıl? 🎵',
            'Film önerir misin? 🎬',
            'Kediler mi köpekler mi? 🐱🐶',
            'En sevdiğin mevsim hangisi? 🍂',
            'Pizza mı burger mi? 🍕🍔',
            'Gece kuşu musun yoksa sabah insanı mı? 🌙☀️',
            'Hobilerinden bahset biraz 🎨',
            'Seyahat etmeyi sever misin? ✈️',
            'En sevdiğin şehir neresi? 🏙️',
            'Hafta sonu planın var mı? 📅',
            'Spor yapar mısın? 🏃',
            'Favori yemeğin ne? 🍝',
            'Dans eder misin? 💃',
            'Deniz mi dağ mı? 🏖️⛰️'
        ];

        const gifler = ['🎉', '❤️', '😍', '🤣', '👋', '🎵', '🌟', '💫', '🔥', '💯', '🎈', '🦄', '🌈', '✨', '💐', '🎁', '🍕', '☕', '🌹', '💝'];

        const ilgiAlanlari = [
            '🎵 Müzik', '🎨 Sanat', '📚 Okumak', '🚀 Teknoloji', '🎭 Tiyatro', 
            '🍕 Yemek', '🌳 Doğa', '💻 Kodlama', '🎬 Sinema', '✈️ Seyahat',
            '🏃 Spor', '📸 Fotoğraf', '🎮 Oyun', '🧘 Yoga', '☕ Kahve',
            '🌊 Sörf', '🎸 Gitar', '🍷 Şarap', '🌌 Astronomi', '🎪 Sirk'
        ];

        const sehirler = ['İstanbul', 'Ankara', 'İzmir', 'Antalya', 'Bursa', 'Adana', 'Konya', 'Gaziantep'];

        let currentUser = '';
        let userProfile = null;
        let profiles = [];
        let currentProfileIndex = 0;
        let matches = [];
        let currentChat = null;
        let likedProfiles = [];
        let passedProfiles = [];
        let darkMode = false;

        // LocalStorage işlemleri
        function loadFromStorage() {
            const saved = localStorage.getItem('sohbetDeliData');
            if (saved) {
                const data = JSON.parse(saved);
                currentUser = data.currentUser || '';
                userProfile = data.userProfile || null;
                matches = data.matches || [];
                likedProfiles = data.likedProfiles || [];
                passedProfiles = data.passedProfiles || [];
                darkMode = data.darkMode || false;
            }
        }

        function saveToStorage() {
            const data = {
                currentUser,
                userProfile,
                matches,
                likedProfiles,
                passedProfiles,
                darkMode
            };
            localStorage.setItem('sohbetDeliData', JSON.stringify(data));
        }

        function generateProfiles() {
            profiles = [];
            for (let i = 0; i < 100; i++) {
                const isim = gercekIsimler[Math.floor(Math.random() * gercekIsimler.length)];
                const profile = {
                    id: Date.now() + i,
                    name: isim,
                    emoji: avatarEmojiler[Math.floor(Math.random() * avatarEmojiler.length)],
                    type: deliTipleri[Math.floor(Math.random() * deliTipleri.length)],
                    bio: bioOrnekleri[Math.floor(Math.random() * bioOrnekleri.length)],
                    age: 18 + Math.floor(Math.random() * 25),
                    distance: Math.floor(Math.random() * 50) + 1,
                    city: sehirler[Math.floor(Math.random() * sehirler.length)],
                    verified: Math.random() > 0.5,
                    premium: Math.random() > 0.7,
                    online: Math.random() > 0.6,
                    interests: [],
                    photos: [
                        avatarEmojiler[Math.floor(Math.random() * avatarEmojiler.length)],
                        avatarEmojiler[Math.floor(Math.random() * avatarEmojiler.length)],
                        avatarEmojiler[Math.floor(Math.random() * avatarEmojiler.length)]
                    ],
                    lastSeen: Math.random() > 0.5 ? 'Şimdi aktif' : `${Math.floor(Math.random() * 60)} dk önce`
                };
                
                const numInterests = 4 + Math.floor(Math.random() * 5);
                const shuffled = [...ilgiAlanlari].sort(() => 0.5 - Math.random());
                profile.interests = shuffled.slice(0, numInterests);
                
                profilconst numInterests = 4 + Math.floor(Math.random() * 4);
                const shuffled = [...ilgiAlanlari].sort(() => 0.5 - Math.random());
                profile.interests = shuffled.slice(0, numInterests);
                
                profiles.push(profile);
            }
        }

        setTimeout(() => {
            const helpBubble = document.getElementById('helpBubble');
            if (helpBubble && !localStorage.getItem('helpBubbleShown')) {
                helpBubble.style.display = 'block';
                localStorage.setItem('helpBubbleShown', 'true');
            }
        }, 5000);

        function showSupportChat() {
            const support = confirm('Destek ekibiyle konuşmak ister misin?\n\n👨‍💼 Transcıabı\n🐰 Tavşancıabı\n\nHangisiyle konuşmak istersin?\n\n(Tamam = Transcıabı, İptal = Tavşancıabı)');
            
            if (support) {
                currentChat = {
                    id: 'transcıabı',
                    name: 'Transcıabı',
                    emoji: '👨‍💼',
                    type: '💼 Destek Uzmanı',
                    age: 28,
                    messages: [
                        {
                            from: 'bot',
                            text: 'Merhaba! Ben Transcıabı, size nasıl yardımcı olabilirim? 😊',
                            time: new Date().toLocaleTimeString('tr-TR', {hour: '2-digit', minute: '2-digit'})
                        }
                    ],
                    isSupport: true
                };
            } else {
                currentChat = {
                    id: 'tavşancıabı',
                    name: 'Tavşancıabı',
                    emoji: '🐰',
                    type: '🥕 Destek Tavşanı',
                    age: 25,
                    messages: [
                        {
                            from: 'bot',
                            text: 'Hop hop! Ben Tavşancıabı 🐰 Sana nasıl yardım edebilirim? 🥕',
                            time: new Date().toLocaleTimeString('tr-TR', {hour: '2-digit', minute: '2-digit'})
                        }
                    ],
                    isSupport: true
                };
            }
            
            document.getElementById('helpBubble').style.display = 'none';
            render('chat');
        }

        function renderLogin() {
            return `
                <div class="min-h-screen gradient-bg flex items-center justify-center p-4">
                    <div class="bg-white/95 backdrop-blur-xl rounded-3xl shadow-2xl p-10 max-w-lg w-full">
                        <div class="text-center mb-10">
                            <div class="text-9xl mb-8 float emoji-hover">🤪</div>
                            <h1 class="text-6xl font-black text-transparent bg-clip-text bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 mb-4">
                                SohbetDeliBul
                            </h1>
                            <p class="text-gray-600 text-xl font-bold">Deliler dünyasına hoş geldin!</p>
                            <div class="mt-4 flex justify-center gap-2">
                                <span class="premium-badge">PREMIUM</span>
                                <span class="verified-badge">✓ Güvenli</span>
                            </div>
                        </div>
                        
                        <div class="space-y-5">
                            <div class="relative">
                                <input type="text" id="username" 
                                    class="w-full px-6 py-5 border-2 border-purple-300 rounded-2xl focus:outline-none focus:border-purple-600 transition text-lg font-semibold"
                                    placeholder="Adını gir">
                                <span class="absolute right-5 top-5 text-3xl emoji-hover">👤</span>
                            </div>
                            
                            <div class="relative">
                                <input type="number" id="userage" min="18" max="99"
                                    class="w-full px-6 py-5 border-2 border-purple-300 rounded-2xl focus:outline-none focus:border-purple-600 transition text-lg font-semibold"
                                    placeholder="Yaşın">
                                <span class="absolute right-5 top-5 text-3xl emoji-hover">🎂</span>
                            </div>
                            
                            <div class="relative">
                                <select id="usertype" 
                                    class="w-full px-6 py-5 border-2 border-purple-300 rounded-2xl focus:outline-none focus:border-purple-600 transition text-lg font-semibold">
                                    <option value="">Deli tipini seç</option>
                                    ${deliTipleri.map(t => `<option value="${t}">${t}</option>`).join('')}
                                </select>
                                <span class="absolute right-5 top-5 text-3xl emoji-hover">🎭</span>
                            </div>

                            <div class="relative">
                                <textarea id="userbio" 
                                    class="w-full px-6 py-5 border-2 border-purple-300 rounded-2xl focus:outline-none focus:border-purple-600 transition text-lg resize-none font-semibold"
                                    placeholder="Hakkında..." rows="3"></textarea>
                                <span class="absolute right-5 top-5 text-3xl emoji-hover">✨</span>
                            </div>
                            
                            <button onclick="login()" 
                                class="w-full bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 text-white font-black py-6 rounded-2xl hover:shadow-2xl transition text-2xl glow btn-hover">
                                Deli Dünyasına Gir 🚀
                            </button>
                        </div>

                        <p class="text-xs text-gray-500 text-center mt-8">
                            ⚠️ Kişisel bilgi paylaşmayın, bu eğlencelik simülasyondur
                        </p>
                    </div>
                </div>
            `;
        }

        function renderMain() {
            if (profiles.length === 0 || currentProfileIndex >= profiles.length) {
                return `
                    <div class="min-h-screen gradient-bg flex items-center justify-center p-4">
                        <div class="bg-white/95 backdrop-blur-lg rounded-3xl shadow-2xl p-12 max-w-md w-full text-center">
                            <div class="text-8xl mb-6 shake">😱</div>
                            <h2 class="text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600 mb-4">Profiller Bitti!</h2>
                            <p class="text-gray-600 text-lg mb-8">Yeni profiller yükleniyor...</p>
                            <button onclick="resetProfiles()" 
                                class="bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-4 rounded-2xl hover:shadow-2xl transition transform hover:scale-105 font-bold text-lg btn-hover">
                                Yeni Profiller 🔄
                            </button>
                        </div>
                    </div>
                `;
            }

            const profile = profiles[currentProfileIndex];
            
            return `
                <div class="min-h-screen ${darkMode ? 'bg-gray-900' : 'gradient-bg'}">
                    <header class="${darkMode ? 'bg-gray-800/95' : 'bg-white/95'} backdrop-blur-lg shadow-xl">
                        <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
                            <div class="flex items-center gap-4">
                                <h1 class="text-3xl font-black ${darkMode ? 'text-white' : 'text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600'}">
                                    🤪 SohbetDeliBul
                                </h1>
                                <button onclick="toggleDarkMode()" class="text-3xl hover:scale-125 transition emoji-hover">
                                    ${darkMode ? '☀️' : '🌙'}
                                </button>
                            </div>
                            <div class="flex items-center gap-6">
                                <button onclick="showProfile()" class="hover:scale-110 transition relative">
                                    <span class="text-4xl emoji-hover">${userProfile?.emoji || '👤'}</span>
                                </button>
                                <button onclick="showMatches()" class="relative hover:scale-110 transition">
                                    <span class="text-4xl emoji-hover">💬</span>
                                    ${matches.length > 0 ? `<span class="absolute -top-2 -right-2 bg-red-500 text-white text-sm font-bold rounded-full w-7 h-7 flex items-center justify-center pulse">${matches.length}</span>` : ''}
                                </button>
                                <button onclick="showSettings()" class="text-3xl hover:scale-125 transition emoji-hover">⚙️</button>
                            </div>
                        </div>
                    </header>

                    <div class="flex items-center justify-center p-6 py-12">
                        <div class="max-w-lg w-full">
                            <div id="profileCard" class="card-swipe ${darkMode ? 'bg-gray-800' : 'bg-white'} rounded-3xl shadow-2xl overflow-hidden">
                                <div class="relative h-96">
                                    <div class="absolute inset-0 bg-gradient-to-br from-purple-400 via-pink-400 to-red-400 flex items-center justify-center">
                                        <span class="text-9xl emoji-hover">${profile.emoji}</span>
                                    </div>
                                    ${profile.online ? `<div class="absolute top-6 right-6 flex items-center gap-2 bg-white/90 px-4 py-2 rounded-full shadow-lg"><div class="online-indicator"></div><span class="text-sm font-bold text-gray-800">Çevrimiçi</span></div>` : ''}
                                    <div class="absolute top-6 left-6 bg-white/90 px-4 py-2 rounded-full shadow-lg flex items-center gap-2">
                                        <span class="text-xl">📍</span>
                                        <span class="font-bold">${profile.distance} km</span>
                                    </div>
                                    ${profile.premium ? `<div class="absolute top-20 left-6"><span class="premium-badge">PREMIUM</span></div>` : ''}
                                </div>

                                <div class="p-8">
                                    <div class="flex items-center justify-between mb-3">
                                        <h2 class="text-4xl font-black ${darkMode ? 'text-white' : 'text-gray-900'}">${profile.name}, ${profile.age}</h2>
                                        ${profile.verified ? `<span class="verified-badge">✓ Doğrulanmış</span>` : ''}
                                    </div>
                                    <p class="text-xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 text-transparent bg-clip-text mb-3">${profile.type}</p>
                                    <p class="${darkMode ? 'text-gray-400' : 'text-gray-600'} text-sm mb-4">📍 ${profile.city}</p>
                                    <p class="${darkMode ? 'text-gray-300' : 'text-gray-700'} text-lg italic mb-6">"${profile.bio}"</p>
                                    
                                    <div>
                                        <h3 class="${darkMode ? 'text-gray-400' : 'text-gray-600'} font-bold mb-3 text-sm">İlgi Alanları</h3>
                                        <div class="flex flex-wrap gap-2">
                                            ${profile.interests.map(i => `
                                                <span class="bg-purple-100 text-purple-800 px-4 py-2 rounded-full text-sm font-semibold hover:scale-105 transition">
                                                    ${i}
                                                </span>
                                            `).join('')}
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="flex justify-center gap-8 mt-10">
                                <button onclick="swipe('left')" 
                                    class="bg-gradient-to-br from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 text-white rounded-full w-20 h-20 flex items-center justify-center shadow-2xl transition btn-hover">
                                    <span class="text-5xl">❌</span>
                                </button>
                                
                                <button onclick="superLike()" 
                                    class="bg-gradient-to-br from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white rounded-full w-24 h-24 flex items-center justify-center shadow-2xl transition btn-hover glow">
                                    <span class="text-6xl">⭐</span>
                                </button>
                                
                                <button onclick="swipe('right')" 
                                    class="bg-gradient-to-br from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white rounded-full w-20 h-20 flex items-center justify-center shadow-2xl transition btn-hover">
                                    <span class="text-5xl">❤️</span>
                                </button>
                            </div>

                            <div class="text-center mt-8">
                                <p class="${darkMode ? 'text-gray-300' : 'text-white'} text-lg font-bold bg-black/20 px-6 py-3 rounded-full inline-block">
                                    📊 Kalan: ${profiles.length - currentProfileIndex} | ❤️ ${likedProfiles.length} | 💔 ${passedProfiles.length}
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="fixed bottom-4 right-4">
                        <button onclick="showEasterEgg()" 
                            class="bg-yellow-400 hover:bg-yellow-500 text-4xl rounded-full w-20 h-20 shadow-lg transition float emoji-hover">
                            🎈
                        </button>
                    </div>
                </div>
            `;
        }function renderMatches() {
            if (matches.length === 0) {
                return `
                    <div class="min-h-screen ${darkMode ? 'bg-gray-900' : 'gradient-bg'} flex items-center justify-center p-4">
                        <div class="${darkMode ? 'bg-gray-800' : 'bg-white'} rounded-3xl shadow-2xl p-12 max-w-md w-full text-center">
                            <div class="text-8xl mb-6">💔</div>
                            <h2 class="text-4xl font-black ${darkMode ? 'text-white' : 'text-purple-600'} mb-4">Henüz Eşleşme Yok</h2>
                            <p class="${darkMode ? 'text-gray-300' : 'text-gray-600'} text-lg mb-8">Biraz daha kaydır, eşleşmen yakın!</p>
                            <button onclick="backToMain()" 
                                class="bg-gradient-to-r from-purple-500 to-pink-500 text-white px-8 py-4 rounded-2xl hover:shadow-2xl transition font-bold btn-hover">
                                Geri Dön
                            </button>
                        </div>
                    </div>
                `;
            }

            return `
                <div class="min-h-screen ${darkMode ? 'bg-gray-900' : 'gradient-bg'} p-4">
                    <div class="max-w-2xl mx-auto">
                        <header class="${darkMode ? 'bg-gray-800' : 'bg-white'} rounded-2xl shadow-md p-4 mb-4 flex justify-between items-center">
                            <button onclick="backToMain()" class="text-purple-600 hover:text-purple-700 font-bold text-xl">
                                ← Geri
                            </button>
                            <h2 class="${darkMode ? 'text-white' : 'text-gray-800'} text-2xl font-bold">Eşleşmeler 💕</h2>
                            <div class="w-16"></div>
                        </header>

                        <div class="space-y-4">
                            ${matches.map(m => `
                                <div class="${darkMode ? 'bg-gray-800' : 'bg-white'} rounded-2xl shadow-lg p-6 hover:shadow-xl transition cursor-pointer transform hover:scale-105"
                                    onclick="openChat(${m.id})">
                                    <div class="flex items-center gap-4">
                                        <div class="relative">
                                            <div class="text-6xl emoji-hover">${m.emoji}</div>
                                            ${m.online ? `<div class="online-indicator absolute bottom-0 right-0"></div>` : ''}
                                        </div>
                                        <div class="flex-1">
                                            <div class="flex items-center gap-2">
                                                <h3 class="text-2xl font-bold ${darkMode ? 'text-white' : 'text-gray-800'}">${m.name}, ${m.age}</h3>
                                                ${m.verified ? `<span class="verified-badge">✓</span>` : ''}
                                            </div>
                                            <p class="text-purple-600 font-semibold">${m.type}</p>
                                            <p class="${darkMode ? 'text-gray-400' : 'text-gray-500'} text-sm mt-1">📍 ${m.city} • ${m.distance} km</p>
                                        </div>
                                        <div class="text-4xl pulse emoji-hover">💬</div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
        }

        function renderChat() {
            if (!currentChat) return;

            const messages = currentChat.messages || [];

            return `
                <div class="min-h-screen flex flex-col ${darkMode ? 'bg-gray-900' : 'bg-gray-100'}">
                    <header class="${darkMode ? 'bg-gray-800' : 'bg-white'} shadow-md p-4 flex items-center gap-4 sticky top-0 z-50">
                        <button onclick="showMatches()" class="text-purple-600 hover:text-purple-700 font-bold text-2xl">
                            ←
                        </button>
                        <div class="relative">
                            <div class="text-5xl emoji-hover">${currentChat.emoji}</div>
                            ${currentChat.online ? `<div class="online-indicator absolute bottom-0 right-0"></div>` : ''}
                        </div>
                        <div class="flex-1">
                            <div class="flex items-center gap-2">
                                <h2 class="text-xl font-bold ${darkMode ? 'text-white' : 'text-gray-800'}">${currentChat.name}</h2>
                                ${currentChat.verified ? `<span class="verified-badge">✓</span>` : ''}
                            </div>
                            <p class="text-sm text-purple-600 font-semibold">${currentChat.type}</p>
                            ${!currentChat.isSupport && currentChat.online ? `<p class="text-xs ${darkMode ? 'text-green-400' : 'text-green-600'}">● Şimdi aktif</p>` : ''}
                        </div>
                        ${!currentChat.isSupport ? `<button onclick="unmatch(${currentChat.id})" class="text-2xl hover:scale-110 transition emoji-hover">🚫</button>` : ''}
                    </header>

                    <div id="chatMessages" class="flex-1 overflow-y-auto p-4 space-y-4 chat-scroll">
                        ${messages.length === 0 ? `
                            <div class="text-center ${darkMode ? 'text-gray-400' : 'text-gray-500'} mt-20">
                                <div class="text-6xl mb-4 float emoji-hover">👋</div>
                                <p class="text-lg font-bold">İlk mesajı gönder!</p>
                                <p class="text-sm mt-2">Sohbete başlamak için bir şeyler yaz</p>
                            </div>
                        ` : ''}
                        ${messages.map(m => `
                            <div class="flex ${m.from === 'user' ? 'justify-end' : 'justify-start'} message-bubble">
                                <div class="max-w-xs lg:max-w-md ${m.from === 'user' ? 'bg-gradient-to-br from-purple-500 to-purple-600 text-white message-tail-right' : darkMode ? 'bg-gray-700 text-white message-tail-left' : 'bg-white text-gray-800 message-tail-left shadow-lg'} rounded-3xl px-5 py-3" style="border-color: ${m.from === 'user' ? '#a855f7' : darkMode ? '#374151' : '#ffffff'}">
                                    <p class="text-base leading-relaxed break-words">${m.text}</p>
                                    <div class="flex items-center justify-between mt-2 gap-3">
                                        <p class="text-xs ${m.from === 'user' ? 'text-purple-200' : darkMode ? 'text-gray-400' : 'text-gray-400'}">${m.time}</p>
                                        ${m.from === 'user' ? `<span class="text-xs ${m.read ? 'text-blue-300' : 'text-purple-300'}">✓✓</span>` : ''}
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                        ${currentChat.isTyping ? `
                            <div class="flex justify-start message-bubble">
                                <div class="typing-indicator">
                                    <div class="typing-dot"></div>
                                    <div class="typing-dot"></div>
                                    <div class="typing-dot"></div>
                                </div>
                            </div>
                        ` : ''}
                    </div><div class="${darkMode ? 'bg-gray-800' : 'bg-white'} p-4 shadow-lg border-t ${darkMode ? 'border-gray-700' : 'border-gray-200'}">
                        <div class="flex gap-3 items-center">
                            <button onclick="sendGif()" class="text-4xl hover:scale-125 transition emoji-hover">📷</button>
                            <button onclick="sendReaction()" class="text-4xl hover:scale-125 transition emoji-hover">😊</button>
                            <input type="text" id="messageInput" 
                                class="flex-1 px-5 py-4 border-2 ${darkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' : 'border-purple-300'} rounded-full focus:outline-none focus:border-purple-500 text-base transition"
                                placeholder="Mesajını yaz..."
                                onkeypress="if(event.key === 'Enter') sendMessage()">
                            <button onclick="sendMessage()" 
                                class="bg-gradient-to-r from-purple-500 to-pink-500 text-white px-8 py-4 rounded-full hover:shadow-2xl transition btn-hover font-bold text-lg">
                                Gönder 🚀
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderProfile() {
            if (!userProfile) return;

            return `
                <div class="min-h-screen ${darkMode ? 'bg-gray-900' : 'gradient-bg'} p-4">
                    <div class="max-w-2xl mx-auto">
                        <header class="${darkMode ? 'bg-gray-800' : 'bg-white'} rounded-2xl shadow-md p-4 mb-4 flex justify-between items-center">
                            <button onclick="backToMain()" class="text-purple-600 hover:text-purple-700 font-bold text-xl">
                                ← Geri
                            </button>
                            <h2 class="${darkMode ? 'text-white' : 'text-gray-800'} text-2xl font-bold">Profilim</h2>
                            <button onclick="editProfile()" class="text-2xl hover:scale-110 transition emoji-hover">✏️</button>
                        </header>

                        <div class="${darkMode ? 'bg-gray-800' : 'bg-white'} rounded-3xl shadow-2xl overflow-hidden">
                            <div class="bg-gradient-to-br from-purple-400 to-pink-400 h-80 flex items-center justify-center relative">
                                <span class="text-9xl emoji-hover float">${userProfile.emoji}</span>
                                <div class="absolute top-6 right-6">
                                    <span class="premium-badge">PREMIUM USER</span>
                                </div>
                            </div>
                            <div class="p-8">
                                <div class="flex items-center gap-3 mb-3">
                                    <h2 class="text-4xl font-black ${darkMode ? 'text-white' : 'text-gray-800'}">${userProfile.name}, ${userProfile.age}</h2>
                                    <span class="verified-badge">✓ Doğrulanmış</span>
                                </div>
                                <p class="text-xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 text-transparent bg-clip-text mb-6">${userProfile.type}</p>
                                <p class="${darkMode ? 'text-gray-300' : 'text-gray-700'} text-lg italic mb-8 leading-relaxed">"${userProfile.bio}"</p>
                                
                                <div class="space-y-6">
                                    <div>
                                        <h3 class="${darkMode ? 'text-white' : 'text-gray-800'} font-bold mb-4 text-lg">📊 İstatistikler</h3>
                                        <div class="grid grid-cols-3 gap-4 text-center">
                                            <div class="${darkMode ? 'bg-gray-700' : 'bg-purple-100'} p-6 rounded-2xl hover:scale-105 transition">
                                                <div class="text-4xl font-black text-purple-600 mb-2">${likedProfiles.length}</div>
                                                <div class="${darkMode ? 'text-gray-300' : 'text-gray-600'} text-sm font-semibold">Beğendim</div>
                                            </div>
                                            <div class="${darkMode ? 'bg-gray-700' : 'bg-pink-100'} p-6 rounded-2xl hover:scale-105 transition">
                                                <div class="text-4xl font-black text-pink-600 mb-2">${matches.length}</div>
                                                <div class="${darkMode ? 'text-gray-300' : 'text-gray-600'} text-sm font-semibold">Eşleşme</div>
                                            </div>
                                            <div class="${darkMode ? 'bg-gray-700' : 'bg-red-100'} p-6 rounded-2xl hover:scale-105 transition">
                                                <div class="text-4xl font-black text-red-600 mb-2">${passedProfiles.length}</div>
                                                <div class="${darkMode ? 'text-gray-300' : 'text-gray-600'} text-sm font-semibold">Geçtim</div>
                                            </div>
                                        </div>
                                    </div>

                                    <div>
                                        <h3 class="${darkMode ? 'text-white' : 'text-gray-800'} font-bold mb-4 text-lg">🏆 Başarılar</h3>
                                        <div class="space-y-3">
                                            <div class="${darkMode ? 'bg-gray-700' : 'bg-gradient-to-r from-yellow-100 to-yellow-200'} p-4 rounded-xl flex items-center gap-3">
                                                <span class="text-4xl">🔥</span>
                                                <div>
                                                    <p class="font-bold ${darkMode ? 'text-white' : 'text-gray-800'}">Aktif Kullanıcı</p>
                                                    <p class="text-sm ${darkMode ? 'text-gray-300' : 'text-gray-600'}">5 gün üst üste giriş yaptın!</p>
                                                </div>
                                            </div>
                                            <div class="${darkMode ? 'bg-gray-700' : 'bg-gradient-to-r from-purple-100 to-purple-200'} p-4 rounded-xl flex items-center gap-3">
                                                <span class="text-4xl">💘</span>
                                                <div>
                                                    <p class="font-bold ${darkMode ? 'text-white' : 'text-gray-800'}">Popüler</p>
                                                    <p class="text-sm ${darkMode ? 'text-gray-300' : 'text-gray-600'}">10+ eşleşme!</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderSettings() {
            return `
                <div class="min-h-screen ${darkMode ? 'bg-gray-900' : 'gradient-bg'} p-4">
                    <div class="max-w-2xl mx-auto">
                        <header class="${darkMode ? 'bg-gray-800' : 'bg-white'} rounded-2xl shadow-md p-4 mb-4 flex justify-between items-center">
                            <button onclick="backToMain()" class="text-purple-600 hover:text-purple-700 font-bold text-xl">
                                ← Geri
                            </button>
                            <h2 class="${darkMode ? 'text-white' : 'text-gray-800'} text-2xl font-bold">Ayarlar ⚙️</h2>
                            <div class="w-16"></div>
                        </header>

                        <div class="${darkMode ? 'bg-gray-800' : 'bg-white'} rounded-3xl shadow-2xl p-8 space-y-6">
                            <div class="flex justify-between items-center p-4 ${darkMode ? 'bg-gray-700' : 'bg-gray-50'} rounded-2xl">
                                <div>
                                    <h3 class="${darkMode ? 'text-white' : 'text-gray-800'} font-bold text-lg">🌙 Karanlık Mod</h3>
                                    <p class="${darkMode ? 'text-gray-400' : 'text-gray-600'} text-sm">Gözlerine iyi bak!</p>
                                </div>
                                <button onclick="toggleDarkMode()" class="text-6xl hover:scale-110 transition emoji-hover">
                                    ${darkMode ? '☀️' : '🌙'}
                                </button>
                            </div>

                            <hr class="${darkMode ? 'border-gray-700' : 'border-gray-200'}">

                            <div class="p-4 ${darkMode ? 'bg-gray-700' : 'bg-blue-50'} rounded-2xl">
                                <h3 class="${darkMode ? 'text-white' : 'text-gray-800'} font-bold mb-3 text-lg">💬 Yardım & Destek</h3>
                                <button onclick="showSupportChat()" 
                                    class="w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white px-6 py-4 rounded-xl hover:shadow-xl transition font-bold btn-hover">
                                    Destek Ekibiyle Konuş
                                </button>
                                <p class="${darkMode ? 'text-gray-400' : 'text-gray-600'} text-xs mt-3">Transcıabı ve Tavşancıabı yardıma hazır! 👨‍💼🐰</p>
                            </div>

                            <hr class="${darkMode ? 'border-gray-700' : 'border-gray-200'}">

                            <div>
                                <h3 class="${darkMode ? 'text-white' : 'text-gray-800'} font-bold mb-4 text-lg">🔥 Tehlikeli Bölge</h3>
                                <button onclick="clearAllData()" 
                                    class="w-full bg-gradient-to-r from-red-500 to-red-600 text-white px-6 py-4 rounded-xl hover:shadow-xl transition font-bold btn-hover">
                                    Tüm Verileri Sil 🗑️
                                </button>
                                <p class="${darkMode ? 'text-gray-400' : 'text-gray-600'} text-xs mt-3">⚠️ Tüm eşleşmeler ve sohbetler silinecek!</p>
                            </div>

                            <hr class="${darkMode ? 'border-gray-700' : 'border-gray-200'}">

                            <div class="text-center">
                                <h3 class="${darkMode ? 'text-white' : 'text-gray-800'} font-bold mb-3 text-lg">📱 Hakkında</h3>
                                <div class="text-6xl mb-4 emoji-hover">🤪</div>
                                <p class="${darkMode ? 'text-gray-400' : 'text-gray-600'} text-sm leading-relaxed">
                                    <strong>SohbetEdecekDeliBul.com</strong><br>
                                    Premium Edition v2.0<br>
                                    Tamamen eğlence amaçlıdır 🎉<br>
                                    Tüm veriler tarayıcınızda güvenle saklanır 🔒
                                </p>
                                <div class="mt-4 flex justify-center gap-2">
                                    <span class="premium-badge">PREMIUM</span>
                                    <span class="verified-badge">✓ Güvenli</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function login() {
            const username = document.getElementById('username').value.trim();
            const age = document.getElementById('userage').value;
            const type = document.getElementById('usertype').value;
            const bio = document.getElementById('userbio').value.trim();

            if (!username || !age || !type) {
                alert('⚠️ Lütfen tüm alanları doldurun!');
                return;
            }

            if (age < 18) {
                alert('⚠️ 18 yaşından küçükler kullanamaz!');
                return;
            }

            currentUser = username;
            userProfile = {
                name: username,
                age: parseInt(age),
                type: type,
                bio: bio || bioOrnekleri[Math.floor(Math.random() * bioOrnekleri.length)],
                emoji: avatarEmojiler[Math.floor(Math.random() * avatarEmojiler.length)],
                verified: true,
                premium: true
            };

            generateProfiles();
            saveToStorage();
            render('main');
        }

        function swipe(direction) {
            const card = document.getElementById('profileCard');
            card.classList.add(`swipe-${direction}`);

            const profile = profiles[currentProfileIndex];

            if (direction === 'right') {
                likedProfiles.push(profile);
                
                if (Math.random() > 0.3) {
                    profile.messages = [];
                    matches.push(profile);
                    saveToStorage();
                    
                    setTimeout(() => {
                        if (confirm(`🎉 EŞLEŞME!\n\n${profile.emoji} ${profile.name} seninle eşleşti!\n\nSohbet etmek ister misin?`)) {
                            openChat(profile.id);
                            return;
                        }
                    }, 400);
                }
            } else {
                passedProfiles.push(profile);
            }

            saveToStorage();

            setTimeout(() => {
                currentProfileIndex++;
                render('main');
            }, 500);
        }

        function superLike() {
            const profile = profiles[currentProfileIndex];
            
            profile.messages = [];
            matches.push(profile);
            likedProfiles.push(profile);
            
            const card = document.getElementById('profileCard');
            card.classList.add('shake');
            
            saveToStorage();

            setTimeout(() => {
                alert(`⭐ SÜPER LIKE!\n\n${profile.emoji} ${profile.name} çok etkilendi!\n\n%100 eşleşme garantisi! 🎉`);
                openChat(profile.id);
            }, 600);
        }

        function resetProfiles() {
            currentProfileIndex = 0;
            generateProfiles();
            render('main');
        }

        function showMatches() {
            render('matches');
        }

        function showProfile() {
            render('profile');
        }

        function showSettings() {
            render('settings');
        }

        function backToMain() {
            render('main');
        }

        function openChat(id) {
            currentChat = matches.find(m => m.id === id);
            if (!currentChat.messages) {
                currentChat.messages = [];
            }
            render('chat');}

        function sendMessage() {
            const input = document.getElementById('messageInput');
            const text = input.value.trim();
            
            if (text && currentChat) {
                const newMsg = {
                    from: 'user',
                    text: text,
                    time: new Date().toLocaleTimeString('tr-TR', {hour: '2-digit', minute: '2-digit'}),
                    read: false
                };
                
                currentChat.messages.push(newMsg);
                input.value = '';
                
                currentChat.isTyping = true;
                saveToStorage();
                render('chat');
                scrollToBottom();
                
                setTimeout(() => {
                    newMsg.read = true;
                    const botResponse = currentChat.isSupport ? 
                        getSupportResponse(text) : 
                        mesajSablonlari[Math.floor(Math.random() * mesajSablonlari.length)];
                    
                    currentChat.messages.push({
                        from: 'bot',
                        text: botResponse,
                        time: new Date().toLocaleTimeString('tr-TR', {hour: '2-digit', minute: '2-digit'})
                    });
                    
                    currentChat.isTyping = false;
                    saveToStorage();
                    render('chat');
                    scrollToBottom();
                }, 1000 + Math.random() * 2000);
            }
        }

        function getSupportResponse(userMsg) {
            const msg = userMsg.toLowerCase();
            
            if (msg.includes('yardım') || msg.includes('help')) {
                return 'Tabii ki yardım edebilirim! Ne konuda yardıma ihtiyacın var? 😊';
            } else if (msg.includes('nasıl') || msg.includes('ne')) {
                return 'Sağ üstteki 💬 ikonundan eşleşmelerini görebilir, ❤️ ile profilleri beğenebilirsin! 🎯';
            } else if (msg.includes('problem') || msg.includes('sorun')) {
                return 'Sorununu dinliyorum, detaylı anlat lütfen! 🔧';
            } else if (msg.includes('teşekkür') || msg.includes('sağol')) {
                return 'Rica ederim! Başka bir şey için buradayım 💜';
            } else {
                return currentChat.id === 'transcıabı' ?
                    'Anladım, sana yardımcı olmak için buradayım! 👨‍💼' :
                    'Hop hop! Her konuda yardımcı olabilirim 🐰🥕';
            }
        }

        function sendGif() {
            if (!currentChat) return;
            
            const gif = gifler[Math.floor(Math.random() * gifler.length)];
            const input = document.getElementById('messageInput');
            input.value = `${gif} ${gif} ${gif}`;
            sendMessage();
        }

        function sendReaction() {
            if (!currentChat) return;
            
            const reactions = ['❤️', '😍', '🤣', '😮', '😢', '😡', '👍', '🎉', '🔥', '💯'];
            const reaction = reactions[Math.floor(Math.random() * reactions.length)];
            const input = document.getElementById('messageInput');
            input.value = reaction;
            sendMessage();
        }

        function unmatch(id) {
            if (confirm('⚠️ Eşleşmeyi kaldırmak istediğine emin misin?\n\nTüm sohbet geçmişi silinecek!')) {
                matches = matches.filter(m => m.id !== id);
                saveToStorage();
                showMatches();
            }
        }

        function toggleDarkMode() {
            darkMode = !darkMode;
            saveToStorage();
            const currentView = document.getElementById('app').innerHTML.includes('Profilim') ? 'profile' :
                               document.getElementById('app').innerHTML.includes('Eşleşmeler') ? 'matches' :
                               document.getElementById('app').innerHTML.includes('Ayarlar') ? 'settings' :
                               document.getElementById('app').innerHTML.includes('Gönder') ? 'chat' : 'main';
            render(currentView);
        }

        function clearAllData() {
            if (confirm('⚠️ UYARI!\n\nTüm veriler silinecek:\n• Eşleşmeler\n• Sohbetler\n• Beğeniler\n\nEmin misin?')) {
                if (confirm('🚨 SON UYARI!\n\nGeri alınamaz! Devam edilsin mi?')) {
                    localStorage.clear();
                    alert('✅ Tüm veriler silindi! Sayfa yeniden yükleniyor...');
                    location.reload();
                }
            }
        }

        function showEasterEgg() {
            const choice = Math.random() > 0.5;
            const character = choice ? 'Transcıabı 👨‍💼' : 'Tavşancıabı 🐰';
            const message = choice ? 
                'Transcıabı: "İş bitti efendim! Her şey kontrol altında! 💼"' :
                'Tavşancıabı: "Hop hop! Havuç alır mısın? 🥕"';
            
            alert(`🎈 BALON PATLADI!\n\n${character} çıktı!\n\n${message}`);
        }

        function scrollToBottom() {
            setTimeout(() => {
                const chatDiv = document.getElementById('chatMessages');
                if (chatDiv) {
                    chatDiv.scrollTop = chatDiv.scrollHeight;
                }
            }, 100);
        }

        function render(view) {
            const app = document.getElementById('app');
            
            switch(view) {
                case 'login':
                    app.innerHTML = renderLogin();
                    break;
                case 'main':
                    app.innerHTML = renderMain();
                    break;
                case 'matches':
                    app.innerHTML = renderMatches();
                    break;
                case 'chat':
                    app.innerHTML = renderChat();
                    scrollToBottom();
                    break;
                case 'profile':
                    app.innerHTML = renderProfile();
                    break;
                case 'settings':
                    app.innerHTML = renderSettings();
                    break;
            }
        }

        // İlk yükleme
        loadFromStorage();
        if (currentUser && userProfile) {
            if (profiles.length === 0) {
                generateProfiles();
            }
            render('main');
        } else {
            render('login');
        }
    </script>
</body>
</html>
